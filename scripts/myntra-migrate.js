const myntraData = require('../static/data-migration/myntra-products.json')
const sample= {
  "_id": "5",
  "updatedAt": "2023-05-02T17:50:37.700Z",
  "createdAt": "2019-05-16T06:54:37.179Z",
  "sku": "21423799371884513299790-dark-gray",
  "description": "<p>Absolute Plush Matte Lip Crayon<br> Shade name -Fierce Red 102.</p>",
  "name": "H&M Rib-Knit Dress",
  "nameLower": "H&M Rib-Knit Dress",
  "vendor_email": "sakshi02@nagarro.com",
  "vendor_id": "5cac7be45ac8a30488fca8a3",
  "group": "21423799371884513299790",
  "vendor_name": "H&M",
  "sizechartUrl": "https://cdn.shoppo.com/images/093466c5ed467a1483734e53b494243f.JPEG",
  "metaTitle": "H&M Rib-Knit Dress",
  "metaDescription": "<p>Absolute Plush Matte Lip Crayon<br> Shade name -Fierce Red 102.</p>",
  "slug": "h&m-rib-knit-dress",
  "sizechart": "/product/093466c5ed467a1483734e53b494243f-1054559882687.JPEG",
  "validToDate": "2039-05-11T00:00:00.000Z",
  "validFromDate": "2019-05-15T00:00:00.000Z",
  "new": false,
  "sale": false,
  "hot": false,
  "approved": true,
  "active": true,
  "updated": "2019-05-16T06:54:37.173Z",
  "popularity": 43,
  "keyFeatures": [],
  "position": 0,
  "featured": true,
  "zips": [],
  "enableZips": false,
  "discount": 35,
  "mrp": 4499,
  "price": 2924,
  "store": "6356502aca4ff28ed596cb1b",
  "images": [
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/53ef926d-d219-484d-8d02-f19ee98066461671137394230Rib-knitdress1.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/d8f19a80-aeff-458f-8c92-6569988bea0a1671137394204Rib-knitdress5.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/51015e57-8ed3-4873-8ba6-2f7247a427011671137394242Rib-knitdress3.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/53ef926d-d219-484d-8d02-f19ee98066461671137394230Rib-knitdress1.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/5536d910-3b96-42d5-874d-a8f95d6ddae41671137394193Rib-knitdress4.jpg"
  ],
  "isUnlimited": true,
  "styleId": "5cdd092dfa390463fb5888bb",
  "img": "http://assets.myntassets.com/assets/images/21211024/2022/12/16/53ef926d-d219-484d-8d02-f19ee98066461671137394230Rib-knitdress1.jpg",
  "imgCdn": "http://assets.myntassets.com/assets/images/21211024/2022/12/16/53ef926d-d219-484d-8d02-f19ee98066461671137394230Rib-knitdress1.jpg",
  "imagesCdn": [
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/53ef926d-d219-484d-8d02-f19ee98066461671137394230Rib-knitdress1.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/d8f19a80-aeff-458f-8c92-6569988bea0a1671137394204Rib-knitdress5.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/51015e57-8ed3-4873-8ba6-2f7247a427011671137394242Rib-knitdress3.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/53ef926d-d219-484d-8d02-f19ee98066461671137394230Rib-knitdress1.jpg",
    "http://assets.myntassets.com/assets/images/21211024/2022/12/16/5536d910-3b96-42d5-874d-a8f95d6ddae41671137394193Rib-knitdress4.jpg"
  ],
  "formattedMrp": "₹ 4499",
  "formattedPrice": "₹ 2924",
  "canvasHeight": 0,
  "canvasWidth": 0,
  "categories": [
    "4_1_1"
  ],
  "condition": "new",
  "crossSells": [],
  "deliveryDetails": "",
  "expiryDate": "2024-05-02T13:36:00.000Z",
  "files": [],
  "foodType": "N",
  "isCod": false,
  "isCustomized": false,
  "isPrintOrderNo": true,
  "isPrintQty": true,
  "isPrintSku": true,
  "linkedProducts": [],
  "mfgDate": null,
  "mockupHeight": 0,
  "mockupWidth": 0,
  "relatedProducts": [],
  "replaceAllowed": false,
  "replaceValidityInDays": 0,
  "returnAllowed": false,
  "returnValidityInDays": 0,
  "stock": 0,
  "tags": [],
  "type": "physical",
  "windowLayer": false,
  "windowXPos": 0,
  "windowYPos": 0,
  "category": {
    "_id": "men-1",
    "active": true,
    "new": false,
    "attributes": [],
    "children": [],
    "featured": false,
    "img": "https://s3.ap-south-1.amazonaws.com/litekart.in/stores/6356502aca4ff28ed596cb1b/category/6-4-v8lkzIczWp4v-9Pq4vzRz9V4L.png",
    "images": [],
    "keywordsA": [],
    "level": 1,
    "megamenu": true,
    "name": "Men",
    "namePathA": [
      "Fashion"
    ],
    "pathA": [
      "6405e37ad1e27517b19662da"
    ],
    "position": 0,
    "shopbycategory": true,
    "slugPathA": [
      "fashion"
    ],
    "store": "6356502aca4ff28ed596cb1b",
    "user": "5ed14b669e8b394b6f8967ce",
    "activeProducts": 76,
    "inactiveProducts": 0,
    "createdAt": "2023-01-06T09:41:05.524Z",
    "updatedAt": "2023-05-29T18:02:29.739Z",
    "link": "fashion-men",
    "namePath": "Men/Fashion",
    "path": "6405e37ad1e27517b19662da",
    "slug": "fashion-men",
    "slugPath": "fashion-men",
    "featuredSort": null,
    "keywords": "",
    "metaDescription": "",
    "metaTitle": "",
    "parent": "6405e37ad1e27517b19662da",
    "q": "fashion-men"
  },
  "categoryPool": [],
  "cgst": 0,
  "channels": [],
  "collections": [],
  "colorGroup": [],
  "daily": false,
  "deliveryDays": 0,
  "demo": false,
  "dimensionUnit": "cm",
  "features": [],
  "groupProduct": [],
  "hasStock": true,
  "igst": 0,
  "isPrescription": false,
  "isSearchable": false,
  "keywordsA": [],
  "location": {
    "type": "Point"
  },
  "options": [],
  "pincodes": [],
  "preOrder": false,
  "productDetails": [],
  "productMasterId": "21423799371884513299790-dark-gray",
  "ratings": 0,
  "recommended": false,
  "reviews": 0,
  "rules": [],
  "sales": 0,
  "sgst": 0,
  "sizeGroup": [],
  "slots": [],
  "sort": 0,
  "specifications": [],
  "tax": 0,
  "totalSold": 1,
  "trackInventory": false,
  "trending": false,
  "unit": "g",
  "variants": [],
  "vendor": "638d6a28de0a19efe979d36b"
}
const fs= require('fs')

const yCompanyData = myntraData.products.filter((a, i)=>i<4).map((product, index)=>{
  const newProduct = {...sample}
  newProduct._id= String('beauty-lipsticks-'+newProduct._id+index+1)
  newProduct.name= product.productName
  newProduct.metaTitle= product.productName
  newProduct.nameLower= product.productName.toLowerCase()
  newProduct.vendor_name= product.brand
  // newProduct.description= product.additionalInfo
  // newProduct.metaDescription= product.additionalInfo
  newProduct.mrp= product.mrp
  newProduct.formattedMrp= `₹ ${product.mrp}`
  newProduct.formattedPrice= `₹ ${product.price}`
  newProduct.price= product.price
  newProduct.discount= parseInt((product.mrp - product.price)*100/product.mrp)
  newProduct.images= product.images.filter((image)=> image.src).map((image)=> image.src)
  newProduct.imagesCdn= product.images.filter((image)=> image.src).map((image)=> image.src)
  newProduct.img= newProduct.images[0]
  newProduct.imgCdn= product.images[0]
  newProduct.slug= product.productName.toLowerCase().split(' ').join('-')
  return newProduct
})

fs.writeFileSync('static/data-migration/ycompany.json', JSON.stringify(yCompanyData));
